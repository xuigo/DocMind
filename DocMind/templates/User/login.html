{% extends 'general_layout/general_layout.html' %}
{% block content %}

<div class="layui-container fly-marginTop">
    <div class="fly-panel fly-panel-user" pad20>
        <div class="layui-tab layui-tab-brief" lay-filter="user">
            <ul class="layui-tab-title">
                <li class="layui-this">登入</li>
                <li><a href="{{url_for('User.register')}}">注册</a></li>
            </ul>
            <div class="layui-form layui-tab-content" id="LAY_ucm" style="padding: 20px 0;">
                <div class="layui-tab-item layui-show">
                    <div class="layui-form layui-form-pane">
                        <form method="post" action='login' novalidate>
                            {{ form.csrf_token }}

                            <div class="layui-form-item">
                                {{form.email.label (class="layui-form-label") }}
                                {{form.email(class="layui-input-inline layui-input")}}


                                {% for msg in form.email.errors %}
                                <!-- 校验失败会将错误提示信息保存到errors中 -->
                                <div class="layui-form-mid layui-word-aux"><span style="color:#FF5722;">{{ msg }}</span>
                                </div>
                                {% endfor %}

                            </div>
                            <div class="layui-form-item">
                                {{form.password.label (class="layui-form-label") }}
                                {{form.password(class="layui-input-inline layui-input")}}

                                {% for msg in form.password.errors %}
                                <!-- 校验失败会将错误提示信息保存到errors中 -->
                                <div class="layui-form-mid layui-word-aux"><span style="color:#FF5722;">{{ msg }}</span>
                                </div>
                                {% endfor %}
                            </div>

                            <div class="layui-form-item">
                                <label for="L_vercode" class="layui-form-label">人机验证</label>
                                <div class="layui-input-inline">
                                    <input type="text" id="L_vercode" name="vercode" required lay-verify="required"
                                        placeholder="请回答后面的问题" autocomplete="off" class="layui-input">
                                </div>

                                <div class="layui-form-mid">
                                    <span style="color: #c00;">{{ver_code}}</span>
                                </div>
                            </div>


                            <div class="layui-form-item">
                                {{form.submit(class="layui-btn") }}
                                <!-- <button class="layui-btn" lay-filter="register" lay-submit>立即登录</button> -->
                                <span style="padding-left:20px;">
                                    <a href="{{url_for('User.forget')}}">忘记密码？</a>
                                </span>
                            </div>
                            <div class="layui-form-item fly-form-app">
                                <span>或者使用社交账号登入</span>
                                <a href="" onclick="layer.msg('正在通过QQ登入', {icon:16, shade: 0.1, time:0})"
                                    class="iconfont icon-qq" title="QQ登入"></a>
                                <a href="" onclick="layer.msg('正在通过微博登入', {icon:16, shade: 0.1, time:0})"
                                    class="iconfont icon-weibo" title="微博登入"></a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="fly-footer">
    <p><a href="#" target="_blank">DocMind社区</a> 2020 &copy; <a href="#" target="_blank">DocMind.cn 出品</a></p>
    <p>
        <a href="#" target="_blank">推广计划</a>
        <a href="#" target="_blank">社区运营</a>
        <a href="#" target="_blank">微信公众号</a>
    </p>
</div>

{% endblock %}